# Файловая система SFS (Simple File System)

SFS - это простая файловая система, реализованная с использованием FUSE (Файловая система в пространстве пользователя)
на языке программирования C. Она представляет собой учебный проект, демонстрирующий основные принципы работы файловых
систем.

## Содержание

- [Установка зависимостей](#установка-зависимостей)
- [Описание](#описание)
- [Структура данных](#структура-данных)
- [Функциональность](#функциональность)
- [Использование](#использование)
- [Примечания](#примечания)

## Установка зависимостей

Перед сборкой и запуском файловой системы SFS необходимо установить следующие зависимости:

### GCC (GNU Compiler Collection)

GCC - это набор компиляторов для различных языков программирования, включая C. Для установки GCC на Ubuntu или Debian
выполните следующую команду:

```
sudo apt-get install build-essential
```

### FUSE (Filesystem in Userspace)

FUSE - это модуль ядра, который позволяет создавать файловые системы в пространстве пользователя. Для установки FUSE на
Ubuntu или Debian выполните следующие команды:

```
sudo apt-get install fuse
sudo modprobe fuse
```

## Описание

Проект состоит из следующих файлов:

1. `sfs.c` - Основной код файловой системы, содержащий реализацию основных функций, таких как создание директорий,
   получение атрибутов файла, чтение директории и другие.
2. `sfs.h` - Заголовочный файл, содержащий определения структур данных, используемых в файловой системе, и прототипы
   функций.
3. `shell.c` - Программа, которая монтирует файловую систему SFS в заданную точку монтирования с использованием FUSE.

## Структура данных

Файловая система SFS использует следующие основные структуры данных:

1. `superblock` - Структура, содержащая информацию о файловой системе, такую как битовые карты для свободных блоков
   данных и индексных дескрипторов.
2. `inode` - Структура, хранящая метаданные файла или директории, такие как права доступа, размер, время создания,
   изменения и доступа.
3. `filetype` - Структура, представляющая файл или директорию в файловой системе, содержащая имя, путь, указатель на
   индексный дескриптор (`inode`) и другие метаданные.

## Функциональность

На данный момент файловая система SFS поддерживает следующие операции:

- Создание директорий (`mkdir`)
- Получение атрибутов файла или директории (`getattr`)
- Чтение содержимого директории (`readdir`)

## Использование

Для сборки и запуска файловой системы SFS выполните следующие шаги:

1. Убедитесь, что на вашей системе установлены компилятор GCC и библиотека FUSE.
2. Скомпилируйте файл `shell.c` с помощью команды:

```
gcc shell.c -o FS `pkg-config fuse --cflags --libs`
```

3. Создайте директорию для монтирования файловой системы, например:

```
mkdir /home/user/mnt
```

4. Запустите файловую систему SFS с указанием точки монтирования:

```
./FS -f /home/user/mnt
```

5. После завершения работы с файловой системой, размонтируйте ее с помощью следующей команды:

```
fusermount -u /home/user/mnt
```

## Примечания

- Файловая система SFS является упрощенной версией и предназначена для обучения и демонстрации основных принципов работы
  файловых систем.
- Проект находится в стадии разработки, и функциональность может быть расширена в будущем.
- Для получения дополнительной информации и поддержки обратитесь к документации FUSE и другим ресурсам, связанным с
  разработкой файловых систем.
